{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/samuelklepper/Projects/comp-blog/frontend/src/components/create/SubmitForm.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\n\nclass SubmitForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      post: {\n        title: this.props.post.title,\n        body: this.props.post.body\n      },\n      saved: false\n    };\n\n    this.handlePostForm = e => {\n      e.preventDefault();\n\n      if (this.state.post.title) {\n        if (this.props.updatePost) {\n          this.props.updatePost(this.state.post);\n        } else {\n          this.props.addNewPost(this.state.post);\n        }\n\n        this.setState({\n          saved: true\n        });\n      } else {\n        alert('Title required');\n      }\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.post.title !== this.props.post.title) {\n      this.setState({\n        post: {\n          title: this.props.post.title,\n          body: this.props.post.body\n        }\n      });\n    }\n  }\n\n  render() {\n    if (this.state.saved === true) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 14\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"container\",\n      onSubmit: this.handlePostForm,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Add a New Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"form-title\",\n          children: \"Title:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          defaultValue: this.props.title,\n          id: \"form-title\",\n          value: this.state.post.title,\n          onChange: e => this.setState({\n            post: { ...this.state.post,\n              title: e.target.value\n            }\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"form-content\",\n          children: \"Content:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReactQuill, {\n        defaultValue: this.state.post.body,\n        onChange: (body, delta, source, editor) => {\n          this.setState({\n            post: { ...this.state.post,\n              body: editor.getContents()\n            }\n          });\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default SubmitForm;","map":{"version":3,"sources":["/Users/samuelklepper/Projects/comp-blog/frontend/src/components/create/SubmitForm.js"],"names":["React","Component","Redirect","ReactQuill","SubmitForm","state","post","title","props","body","saved","handlePostForm","e","preventDefault","updatePost","addNewPost","setState","alert","componentDidUpdate","prevProps","prevState","render","target","value","delta","source","editor","getContents"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport ReactQuill from 'react-quill'\n\nimport 'react-quill/dist/quill.snow.css'\n\nclass SubmitForm extends Component {\n  state = {\n    post: {\n      title: this.props.post.title,\n      body: this.props.post.body,\n    },\n    saved: false,\n  }\n\n  handlePostForm = (e) => {\n    e.preventDefault()\n    if (this.state.post.title) {\n      if (this.props.updatePost) {\n        this.props.updatePost(this.state.post)\n      } else {\n        this.props.addNewPost(this.state.post)\n      }\n      this.setState({\n        saved: true,\n      })\n    } else {\n      alert('Title required')\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.post.title !== this.props.post.title) {\n      this.setState({\n        post: {\n          title: this.props.post.title,\n          body: this.props.post.body,\n        },\n      })\n    }\n  }\n\n  render() {\n    if (this.state.saved === true) {\n      return <Redirect to='/' />\n    }\n\n    return (\n      <form className='container' onSubmit={this.handlePostForm}>\n        <h1>Add a New Post</h1>\n        <p>\n          <label htmlFor='form-title'>Title:</label>\n          <br />\n          <input\n            defaultValue={this.props.title}\n            id='form-title'\n            value={this.state.post.title}\n            onChange={(e) =>\n              this.setState({\n                post: { ...this.state.post, title: e.target.value },\n              })\n            }\n          />\n        </p>\n        <p>\n          <label htmlFor='form-content'>Content:</label>\n        </p>\n        <ReactQuill\n          defaultValue={this.state.post.body}\n          onChange={(body, delta, source, editor) => {\n            this.setState({\n              post: { ...this.state.post, body: editor.getContents() },\n            })\n          }}\n        />\n        <p>\n          <button type='submit'>Save</button>\n        </p>\n      </form>\n    )\n  }\n}\n\nexport default SubmitForm\n"]},"metadata":{},"sourceType":"module"}